{"mappings":"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","sources":["node_modules/@swc/helpers/lib/_class_call_check.js","node_modules/@swc/helpers/lib/_create_class.js","src/getGalleryItems.js","<<jsx-config-pragma.js>>","src/createGalleryItem.js","src/index.js"],"sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.default = _classCallCheck;\nfunction _classCallCheck(instance, Constructor) {\n    if (!(instance instanceof Constructor)) {\n        throw new TypeError(\"Cannot call a class as a function\");\n    }\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.default = _createClass;\nfunction _createClass(Constructor, protoProps, staticProps) {\n    if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) _defineProperties(Constructor, staticProps);\n    return Constructor;\n}\nfunction _defineProperties(target, props) {\n    for(var i = 0; i < props.length; i++){\n        var descriptor = props[i];\n        descriptor.enumerable = descriptor.enumerable || false;\n        descriptor.configurable = true;\n        if (\"value\" in descriptor) descriptor.writable = true;\n        Object.defineProperty(target, descriptor.key, descriptor);\n    }\n}\n","const URL = 'pixabay.com/api';\nconst API_KEY = '31930152-30d8507b21f279e62dc6170e1';\nexport default class GalleryAPIService {\n  constructor() {\n    this.searchQuery = '';\n    this.page = 1;\n  }\n\n  fetchGalleryItems() {\n    return fetch(\n      `https://${URL}/?key=${API_KEY}&q=${this.searchQuery}&image_type=photo&orientation=horizontal&safesearch=true&page=${this.page}&per_page=40`\n    )\n      .then(response => response.json())\n      .then(data => {\n        this.page += 1;\n        return data;\n      });\n  }\n\n  resetPage() {\n    this.page = 1;\n  }\n\n  get query() {\n    return this.searchQuery;\n  }\n\n  set query(newQuery) {\n    this.searchQuery = newQuery;\n  }\n}\n",null,"const createGalleryItem = ({\n  webformatURL,\n  largeImageURL,\n  tags,\n  likes,\n  views,\n  comments,\n  downloads,\n}) => {\n    return `<div class=\"photo-card\">\n    <img src=\"${webformatURL}\" srcset=\"${largeImageURL}\" alt=\"${tags}\" loading=\"lazy\" width = 400px height = 350px/>\n    <div class=\"info\">\n      <p class=\"info-item\">\n        <b class = \"info-element\"><span>Likes</span><span>${likes}</span></b>\n      </p>\n      <p class=\"info-item\">\n        <b class = \"info-element\"><span>Views</span><span>${views}</span></b>\n      </p>\n      <p class=\"info-item\">\n        <b class = \"info-element\"><span>Comments</span><span>${comments}</span></b>\n      </p>\n      <p class=\"info-item\">\n        <b class = \"info-element\"><span>Downloads</span><span>${downloads}</span></b>\n      </p>\n    </div>\n  </div>`;\n};\n\nexport { createGalleryItem };\n","import './css/common.css';\nimport GalleryAPIService from './getGalleryItems';\nimport { createGalleryItem } from './createGalleryItem';\n\nconst refs = {\n  searchForm: document.querySelector('.search-form'),\n  imagesGallery: document.querySelector('.gallery'),\n  loadMoreBtn: document.querySelector('.load-more'),\n};\n\nconst galleryAPIService = new GalleryAPIService();\n\nlet totalAmountOfPages = 0;\n\nrefs.searchForm.addEventListener('submit', onFormSubmit);\nrefs.loadMoreBtn.addEventListener('click', onLoadMore);\n\ndisableBtn();\n\nfunction onFormSubmit(event) {\n  event.preventDefault();\n\n  clearGalleryMurkup();\n\n  galleryAPIService.query = event.currentTarget.elements.searchQuery.value;\n\n  if (galleryAPIService.query === '') {\n    return alert(`Please enter a search query`);\n  }\n\n  galleryAPIService.resetPage();\n  galleryAPIService.fetchGalleryItems().then(({ hits, totalHits }) => {\n    if (hits.length == 0) {\n      return alert(\n        `Sorry, there are no images matching your search query. Please try again.`\n      );\n    } else {\n      alert(`Hooray! We found ${totalHits} images.`);\n      createGalleryMarkup(hits), enableBtn();\n    }\n    totalAmountOfPages += hits.length;\n  });\n}\n\nfunction onLoadMore() {\n  disableBtn();\n  galleryAPIService.fetchGalleryItems().then(({ hits, totalHits }) => {\n    createGalleryMarkup(hits), enableBtn(), (totalAmountOfPages += hits.length);\n    const { height: cardHeight } = document\n      .querySelector('.gallery')\n      .firstElementChild.getBoundingClientRect();\n\n    window.scrollBy({\n      top: cardHeight * 2,\n      behavior: 'smooth',\n    });\n    if (totalAmountOfPages === totalHits) {\n      console.log(totalAmountOfPages, totalHits);\n      disableBtn();\n      return alert(\n        `We're sorry, but you've reached the end of search results.`\n      );\n    }\n  });\n}\n\nfunction createGalleryMarkup(hits) {\n  const markup = hits.map(createGalleryItem);\n  refs.imagesGallery.insertAdjacentHTML('beforeend', markup.join(''));\n}\n\nfunction clearGalleryMurkup() {\n  refs.imagesGallery.innerHTML = '';\n}\n\nfunction disableBtn() {\n  refs.loadMoreBtn.classList.add('is-hidden');\n  refs.loadMoreBtn.setAttribute('disabled', true);\n}\n\nfunction enableBtn() {\n  refs.loadMoreBtn.classList.remove('is-hidden');\n  refs.loadMoreBtn.removeAttribute('disabled');\n}\n"],"names":["Object","defineProperty","$665014edacbfe17b$exports","value","default","instance","Constructor","TypeError","$74e7f8130373505f$var$_defineProperties","target","props","i","length","descriptor","enumerable","configurable","writable","key","$74e7f8130373505f$exports","protoProps","staticProps","prototype","$222aad9334514932$export$2e2bcd8739ae039","GalleryAPIService","this","searchQuery","page","fetch","concat","then","response","json","data","_this","newQuery","$254cd09a4e0bafa1$export$58d4aaccf9eb6517","param","webformatURL","largeImageURL","tags","likes","views","comments","downloads","$b8f9b7833fa37166$var$refs","searchForm","document","querySelector","imagesGallery","loadMoreBtn","$b8f9b7833fa37166$var$galleryAPIService","$b8f9b7833fa37166$var$totalAmountOfPages","$b8f9b7833fa37166$var$createGalleryMarkup","hits","markup","map","insertAdjacentHTML","join","$b8f9b7833fa37166$var$disableBtn","classList","add","setAttribute","$b8f9b7833fa37166$var$enableBtn","remove","removeAttribute","addEventListener","event","preventDefault","innerHTML","$b8f9b7833fa37166$var$clearGalleryMurkup","query","currentTarget","elements","alert","resetPage","fetchGalleryItems","totalHits","cardHeight","firstElementChild","getBoundingClientRect","height","window","scrollBy","top","behavior","console","log"],"version":3,"file":"index.b788239e.js.map"}
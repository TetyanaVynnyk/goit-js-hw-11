const e=({webformatURL:e,largeImageURL:t,tags:n,likes:s,views:a,comments:r,downloads:o})=>`<div class="photo-card">\n    <img src="${e}" srcset="${t}" alt="${n}" loading="lazy" width = 400px height = 350px/>\n    <div class="info">\n      <p class="info-item">\n        <b class = "info-element"><span>Likes</span><span>${s}</span></b>\n      </p>\n      <p class="info-item">\n        <b class = "info-element"><span>Views</span><span>${a}</span></b>\n      </p>\n      <p class="info-item">\n        <b class = "info-element"><span>Comments</span><span>${r}</span></b>\n      </p>\n      <p class="info-item">\n        <b class = "info-element"><span>Downloads</span><span>${o}</span></b>\n      </p>\n    </div>\n  </div>`,t={searchForm:document.querySelector(".search-form"),imagesGallery:document.querySelector(".gallery"),loadMoreBtn:document.querySelector(".load-more")},n=new class{fetchGalleryItems(){return fetch(`https://pixabay.com/api/?key=31930152-30d8507b21f279e62dc6170e1&q=${this.searchQuery}&image_type=photo&orientation=horizontal&safesearch=true&page=${this.page}&per_page=40`).then((e=>e.json())).then((e=>(this.page+=1,e)))}resetPage(){this.page=1}get query(){return this.searchQuery}set query(e){this.searchQuery=e}constructor(){this.searchQuery="",this.page=1}};let s=0;function a(n){const s=n.map(e);t.imagesGallery.insertAdjacentHTML("beforeend",s.join(""))}function r(){t.loadMoreBtn.classList.add("is-hidden"),t.loadMoreBtn.setAttribute("disabled",!0)}function o(){t.loadMoreBtn.classList.remove("is-hidden"),t.loadMoreBtn.removeAttribute("disabled")}t.searchForm.addEventListener("submit",(function(e){if(e.preventDefault(),function(){t.imagesGallery.innerHTML=""}(),n.query=e.currentTarget.elements.searchQuery.value,""===n.query)return alert("Please enter a search query");n.resetPage(),n.fetchGalleryItems().then((({hits:e,totalHits:t})=>{if(0==e.length)return alert("Sorry, there are no images matching your search query. Please try again.");alert(`Hooray! We found ${t} images.`),a(e),o(),s+=e.length}))})),t.loadMoreBtn.addEventListener("click",(function(){r(),n.fetchGalleryItems().then((({hits:e,totalHits:t})=>{a(e),o(),s+=e.length;const{height:n}=document.querySelector(".gallery").firstElementChild.getBoundingClientRect();if(window.scrollBy({top:2*n,behavior:"smooth"}),s===t)return console.log(s,t),r(),alert("We're sorry, but you've reached the end of search results.")}))})),r();
//# sourceMappingURL=index.f4524cc1.js.map
